<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>My Map App</title>
    <!-- Include Leaflet CSS and JS files -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <!-- Set the height of the map container -->
    <style>
      #map {
        height: 500px;
      }
input[type=text] {
  width: 90%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
}
    </style>
  </head>
  <body>

      <!-- Create a search bar for the map -->
      <div>
        <img src="Main Logo.jpeg" width="70" height="70">

        <input type="text" id="search" placeholder="Search..." size="150" >
        <button onclick="search()">Go</button>
     
      </div>
      <br>

  
      <!-- Create buttons for searching different places -->
      <div>
          <img src="Apotheke-Icon.jpeg" width="60" height="60" onclick="searchFor('apotheken')"></img>
          <img src="Bank-Icon.jpeg" width="60" height="60" onclick="searchFor('banks')"></img>
          <img src="Bar-Icon.jpeg" width="60" height="60" onclick="searchFor('bars')"></img>
          <img src="Cafe-Icon.jpeg" width="60" height="60" onclick="searchFor('cafés')"></img>
          <img src="Fitness-Studio.jpeg" width="60" height="60" onclick="searchFor('fitness studio')"></img>
          <img src="Gaststatten.jpeg" width="60" height="60" onclick="searchFor('gaststätte')"></img>
          <img src="Hotel.jpeg"width="60" height="60" onclick="searchFor('hotels')"></img>
          <img src="Einkaufszentrum.jpeg" width="60" height="60"onclick="searchFor('einkaufszentrum')"></img>
          <img src="Supermarkt.jpeg" width="60" height="60" onclick="searchFor('supermarkt')"></img>
          <img src="Restaurant.jpeg" width="60" height="60"onclick="searchFor('restaurant')"></img>
          <img src="Kino-Icon.jpeg" width="60" height="60" onclick="searchFor('kino')"> </img>
          <img src="Museum-Icon.jpeg" width="60" height="60" onclick="searchFor('museum')"></img>
          <img src="Park-Icon.jpeg"width="60" height="60" onclick="searchFor('parkplätze')"></img>
          <img src="krankenhaus-icon.jpeg"width="60" height="60" onclick="searchFor('krankenhäuser')"></img>
          <img src="Taxi.jpeg"width="60" height="60" onclick="searchFor('taxi')"></img>
         
      </div>
      <div>
        Apotheken 
      </div>



    <!-- Create a div for the map with an ID of "map" -->
    <div id="map"></div>

  

    <script>
      // Initialize the map and set its view to your location
      var map = L.map("map");

      // Get the user's location and center the map on it
      map.locate({ setView: true, maxZoom: 16 });

      // Add a tile layer to the map (uses OpenStreetMap)
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "Map data &copy; OpenStreetMap contributors",
        maxZoom: 19,
      }).addTo(map);

      // Create a function to search for places on the map
      function searchFor(place) {
        // Remove any previously added markers
        map.eachLayer(function (layer) {
          if (layer instanceof L.Marker) {
            map.removeLayer(layer);
          }
        });

        // Use the OpenStreetMap Nominatim API to search for places
        var url =
          "https://nominatim.openstreetmap.org/search?q=" +
          place +
          "&format=json&addressdetails=1&limit=10&bounded=1&viewbox=" +
          map.getBounds().toBBoxString();
        fetch(url)
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            // Add markers for the found places to the map
            data.forEach(function (result) {
              var marker = L.marker([result.lat, result.lon]).addTo(map);
              marker.bindPopup(result.display_name);
            });
          });
      }

      // Create a function to search for a location on the map
      function search() {
        var searchText = document.getElementById("search").value;
        // Use the OpenStreetMap Nominatim API to search for the location
        var url =
          "https://nominatim.openstreetmap.org/search?q=" +
          searchText +
          "&format=json&addressdetails=1&limit=1";
        fetch(url)
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            // Center the map on the found location
            map.setView([data[0].lat, data[0].lon], 16);
          });
      }
    </script>
  </body>
</html>
